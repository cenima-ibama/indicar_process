{% extends 'base.html' %}
{% load i18n %}

<h1>{% block page_title %}{% trans 'Landsat Catalog' %}{% endblock page_title %}</h1>

{% block content %}
  {% if scenes %}
    <div class="table-responsive">
      <table class="table table-striped">
        <thead>
          <tr>
            <th>{% trans 'Scene' %}</th>
            <th>{% trans 'Satellite' %}</th>
            <th>{% trans 'Cloud Rate' %}</th>
            <th>{% trans 'Date' %}</th>
            <th>{% trans 'Status' %}</th>
          </tr>
        </thead>
        <tbody>
          {% for scene in scenes %}
          <tr>
            <td><a href="{% url 'imagery:scene' scene.name %}">{{ scene.name }}</a>
            <td>{{ scene.get_sat_display }}</td>
            <td>{% if scene.cloud_rate >= 0 %}{{ scene.cloud_rate }}%{% endif %}</td>
            <td>{{ scene.date|date:"SHORT_DATE_FORMAT" }}</td>
            <td>{{ scene.get_status_display }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% else %}
    <div class="alert alert-danger">{% trans 'No scenes found.' %}</div>
  {% endif %}

  {% if paginator %}
    <p class="text-muted text-pagination">
      Página {{ page_obj.number }} de {{ page_obj.paginator.num_pages }}
    </p>
    <ul class="pager">
      {% if page_obj.has_previous %}
        <li><a href="?page={{ page_obj.previous_page_number }}">&larr; Anterior</a></li>
      {% endif %}

      {% if page_obj.has_next %}
        <li><a href="?page={{ page_obj.next_page_number }}">Próxima &rarr;</a></li>
      {% endif %}
    </ul>
  {% endif %}
{% endblock content %}
